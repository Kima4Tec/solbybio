<div class="admin-page">
    <h2 class="page-title">Admin – Film & program</h2>
    <div class="wrapper">

        <!-- Opret film -->
        <div class="admin-card">
            <h3>Opret film</h3>

            <form (ngSubmit)="createMovie()">

                <div class="form-group">
                    <label for="movieTitle">Titel</label>
                    <input id="movieTitle" [(ngModel)]="createMovieDto.title" name="movieTitle" required />
                </div>

                <div class="form-group">
                    <label for="movieDirectors">Instruktører</label>
                    <select id="movieDirectors" [(ngModel)]="createMovieDto.directorIds" name="movieDirectors" multiple>
                        <option *ngFor="let director of directors" [value]="director.id">{{ director.name }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="movieDuration">Varighed (minutter)</label>
                    <input id="movieDuration" type="number" [(ngModel)]="createMovieDto.durationMinutes" name="movieDuration" required />
                </div>

                <div class="form-group">
                    <label for="movieAgeLimit">Aldersgrænse</label>
                    <input id="movieAgeLimit" type="number" [(ngModel)]="createMovieDto.ageLimit" name="movieAgeLimit" required />
                </div>

                <div class="form-group">
                    <label for="movieDescription">Beskrivelse</label>
                    <textarea id="movieDescription" [(ngModel)]="createMovieDto.description" name="movieDescription"></textarea>
                </div>

                <button class="primary-btn" type="submit">Gem film</button>
            </form>
        </div>

        <!-- Opret forestilling -->
        <div class="admin-card">
            <h3>Opret forestilling</h3>

            <form (ngSubmit)="createShow()">

                <!-- Vælg cinema -->
                <div class="form-group">
                    <label for="showCinema">Biograf</label>
                    <select id="showCinema" [(ngModel)]="selectedCinemaId" name="showCinemaId" (change)="onCinemaChange()">
                        <option value="">Vælg biograf</option>
                        <option *ngFor="let cinema of cinemas" [value]="cinema.id">{{ cinema.name }}</option>
                    </select>
                </div>

                <!-- Vælg hall (filtreret efter cinema) -->
                <div class="form-group">
                    <label for="showHall">Sal</label>
                    <select id="showHall" [(ngModel)]="createShowDto.hallId" name="showHallId" [disabled]="!filteredHalls.length" required>
                        <option value="">Vælg sal</option>
                        <option *ngFor="let hall of filteredHalls" [value]="hall.id">{{ hall.name }}</option>
                    </select>
                </div>

                <!-- Vælg film -->
                <div class="form-group">
                    <label for="showMovie">Film</label>
                    <select id="showMovie" [(ngModel)]="createShowDto.movieId" name="showMovieId" required>
                        <option value="">Vælg film</option>
                        <option *ngFor="let movie of movies" [value]="movie.id">{{ movie.title }}</option>
                    </select>
                </div>

                <!-- Starttid -->
                <div class="form-group">
                    <label for="showStartTime">Starttidspunkt</label>
                    <input id="showStartTime" type="datetime-local" [(ngModel)]="createShowDto.startTime" name="showStartTime" required />
                </div>

                <!-- Pris -->
                <div class="form-group">
                    <label for="showPrice">Pris</label>
                    <input id="showPrice" type="number" [(ngModel)]="createShowDto.price" name="showPrice" required />
                </div>

                <button class="primary-btn" type="submit">Gem forestilling</button>
            </form>
        </div>

    </div>
</div>
